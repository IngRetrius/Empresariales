# ===========================================
# MICROSERVICIO C - VARIABLES DE ENTORNO
# Sistema de Gestión de Insumos Agrícolas
# Universidad de Ibagué
# ===========================================

# ===========================================
# CONFIGURACIÓN DEL SERVIDOR
# ===========================================
# Puerto en el que correrá el microservicio
MICROSERVICIO_C_PORT=8082

# ===========================================
# CONFIGURACIÓN DE BASE DE DATOS ORACLE
# ===========================================
# Host del servidor Oracle
MICROSERVICIO_C_ORACLE_HOST=localhost

# Puerto del servidor Oracle
MICROSERVICIO_C_ORACLE_PORT=1521

# SID de la base de datos Oracle
# Para Oracle XE: XE
# Para Oracle Standard: ORCL o nombre personalizado
MICROSERVICIO_C_ORACLE_SID=XE

# Usuario de la base de datos
MICROSERVICIO_C_ORACLE_USERNAME=microservicio_c

# Contraseña del usuario (CAMBIAR EN PRODUCCIÓN)
MICROSERVICIO_C_ORACLE_PASSWORD=admin

# ===========================================
# CONFIGURACIÓN JPA/HIBERNATE
# ===========================================
# Opciones: none, validate, update, create, create-drop
# IMPORTANTE: Usar 'validate' o 'none' en producción
JPA_DDL_AUTO=update

# Mostrar SQL en logs (true/false)
# IMPORTANTE: false en producción
JPA_SHOW_SQL=true

# Formatear SQL en logs
JPA_FORMAT_SQL=true

# ===========================================
# CONFIGURACIÓN DE CORS
# ===========================================
# Orígenes permitidos (separados por coma)
# Ejemplo: http://localhost:3000,http://localhost:4200
# Usar * para permitir todos (NO RECOMENDADO EN PRODUCCIÓN)
CORS_ALLOWED_ORIGINS=*

# Métodos HTTP permitidos
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Headers permitidos
CORS_ALLOWED_HEADERS=*

# Tiempo máximo de caché de preflight (segundos)
CORS_MAX_AGE=3600

# ===========================================
# INTEGRACIÓN CON MICROSERVICIO A-B
# ===========================================
# URL base del Microservicio A-B (Productos y Cosechas)
# Desarrollo: http://localhost:8081
# Producción: http://microservicio-ab:8081 o URL del servidor
MICROSERVICIO_AB_URL=http://localhost:8081

# Timeout para comunicación con Microservicio A-B (milisegundos)
MICROSERVICIO_AB_TIMEOUT=5000

# Número máximo de reintentos en caso de error
MICROSERVICIO_AB_MAX_RETRIES=3

# ===========================================
# CONFIGURACIÓN DE WEBCLIENT
# ===========================================
# Timeout general de WebClient (milisegundos)
WEBCLIENT_TIMEOUT_MS=5000

# ===========================================
# CONFIGURACIÓN DE LOGGING
# ===========================================
# Nivel de logging para el paquete principal
# Opciones: TRACE, DEBUG, INFO, WARN, ERROR
# Desarrollo: DEBUG
# Producción: INFO o WARN
LOGGING_LEVEL_APP=DEBUG

# Nivel de logging para Spring Web
LOGGING_LEVEL_WEB=INFO

# Nivel de logging para Hibernate SQL
# Desarrollo: DEBUG
# Producción: WARN
LOGGING_LEVEL_SQL=DEBUG

# ===========================================
# SPRING BOOT ACTUATOR
# ===========================================
# Endpoints expuestos (separados por coma)
# health,info,metrics para producción
# * para exponer todos (solo desarrollo)
ACTUATOR_ENDPOINTS=health,info,metrics

# Mostrar detalles de health (always, when-authorized, never)
# Desarrollo: always
# Producción: when-authorized
ACTUATOR_HEALTH_SHOW_DETAILS=always

# ===========================================
# CONFIGURACIÓN DE APLICACIÓN
# ===========================================
# Nombre de la aplicación
SPRING_APPLICATION_NAME=microservicio-insumo

# Perfil activo (dev, prod, test)
SPRING_PROFILES_ACTIVE=dev

# Timezone de la aplicación
APP_TIMEZONE=America/Bogota

# ===========================================
# CONSTANTES DE NEGOCIO
# ===========================================
# Prefijo para generación de IDs de insumo
ID_INSUMO_PREFIX=INS

# Padding para IDs (número de dígitos)
ID_PADDING=3

# Validaciones de insumo
INSUMO_MIN_CANTIDAD=1
INSUMO_MAX_CANTIDAD=1000000
INSUMO_MIN_COSTO=0.01
INSUMO_MAX_COSTO=10000000.0

# ===========================================
# CONFIGURACIÓN DE SEGURIDAD (OPCIONAL)
# ===========================================
# Habilitar/deshabilitar carga de datos iniciales
ENABLE_DATA_LOADER=true

# ===========================================
# NOTAS IMPORTANTES
# ===========================================
# 1. NO SUBIR ESTE ARCHIVO CON VALORES REALES A GIT
# 2. Copiar este archivo como .env y configurar valores reales
# 3. Agregar .env al .gitignore
# 4. En producción usar secretos seguros (Kubernetes Secrets, AWS Secrets Manager, etc.)
# 5. Cambiar todas las contraseñas por defecto
# 6. Revisar configuraciones de seguridad (CORS, actuator endpoints)
# 7. Para Oracle en producción, usar un usuario con permisos específicos
# 8. Considerar usar Oracle Wallet para credenciales en producción

# ===========================================
# EJEMPLO DE USO
# ===========================================
# 1. Copiar este archivo:
#    cp .env.example .env
#
# 2. Editar .env con valores reales:
#    vim .env
#
# 3. En Windows (PowerShell), cargar variables:
#    Get-Content .env | ForEach-Object {
#        if ($_ -match '^([^=]+)=(.*)$') {
#            [Environment]::SetEnvironmentVariable($matches[1], $matches[2])
#        }
#    }
#
# 4. En Linux/Mac, cargar variables:
#    export $(cat .env | xargs)
#
# 5. Ejecutar microservicio:
#    mvn spring-boot:run
